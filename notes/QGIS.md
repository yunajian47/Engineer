# QGIS基礎
## 初始設定
### 安裝+開啟軟體
1. 下載
   - QGIS下載網站：[https://qgis.org/download/](https://qgis.org/download/)  
   
![[Pasted image 20250610160628.png]]

2. 開啟軟體
![[Pasted image 20250610160657.png]]
---
### 語言設定
1. 打開選項頁面
![[Pasted image 20250610160905.png]]
>1. 點選設定
>2. 點擊選項
2. 設定語言
![[Pasted image 20250610161031.png]]
>1. General
>2. 打開 Override system locale
>3. 選擇繁體中文
---
### 設定預設CRS/座標設定
1. 設定默認CRS
![[Pasted image 20250610161613.png]]
>1. 先打開選項頁面
>2. CRS處理
>3. 勾選使用默認CRS
>4. 打開選單
2. 選取常用坐標系統
![[Pasted image 20250610161827.png]]
>1. 再彈出視窗輸入3826
>    - 台灣本島用的是 TWD97座標系統 的 121 分帶（EPSG:3826）
>    - 西部離島用的是 119 分帶（EPSG:3825）
>2. 確認選項

- 若要個別設定圖層的CRS:右鍵->圖層CRS->設置圖層CRS一樣會出現這個畫面喔！
---
## 專案設定
### 新建專案
- 新建專案
![[Pasted image 20250610172345.png]]
>1. 在上方工具列打開專案
>2. 新建
- 開啟舊檔
![[Pasted image 20250610172826.png]]
>1. 在上方工具列打開專案
>2. 打開資料夾並選擇檔案
- 儲存專案
![[Pasted image 20250610173014.png]]
>另存專案

![[Pasted image 20250610172947.png]]
>建議儲存project檔

### 專案匯出CAD檔(dxf)
![[Pasted image 20250611095331.png]]
>1. 在上方工具列打開專案
>2. 選擇匯入/匯出
>3. 點選匯出成DXF文件

![[Pasted image 20250611095728.png]]
>1. 輸入檔名
>2. 勾選要匯出的圖層
>3. 點選OK即可
---

## 加入圖層
### 加入向量圖層
1. 加入向量圖層  `一般CAD(dxf)檔案要匯入就是選匯入向量`
 ![[Pasted image 20250610162332.png]]
 >1. 在上方工具列打開圖層選項
 >2. 加入圖層->加入向量圖層
2. 選取檔案
![[Pasted image 20250610163031.png]]
3. 選取加入項目
![[Pasted image 20250610163123.png]]
>1. 加入檔案後會彈出視窗
>2. 選取需要的圖層
>> 說明欄可能會分為線、圖塊、標註等形式
>3. 新增圖層

- 支援向量檔案

|副檔名|說明|
|---|---|
| shp |最常見的 GIS 向量格式，由多個檔案組成（需搭配 .shx, .dbf 等）|
|geojson、json|基於 JSON 的格式，適合網頁與資料交換|
|kml、kmz|Google Earth 使用的格式|
|dxf、dwg|CAD 軟體使用的格式，QGIS 支援 DXF（DWG 需轉檔）|
|Csv|如果包含經緯度欄位，可轉為點圖層|
|Gml|XML 架構的地理資料格式，常見於政府開放資料|

---
### 加入WMTS/WMS
1. 加入WMTS/WMS圖層
![[Pasted image 20250610170701.png]]
 >1. 在上方工具列打開圖層選項
 >2. 加入圖層->加入WMTS/WMS圖層
2. 以國土測繪中心圖台為例
![[Pasted image 20250610170832.png]]
>1. 再彈出頁面中點選新增
>2. 輸入名稱(可自訂)；URL須輸入欲介接的WMS/WMTS網址
>3. 確認
3. 連線
![[Pasted image 20250610171106.png]]
>1. 在選單中選取剛剛輸入的名稱
>2. 點選連線即可

- 常用WMTS/WMS 介接網址
  - 國土測繪圖資網路地圖服務系統： https://wmts.nlsc.gov.tw/wmts
  - 臺灣百年歷史地圖WMTS服務（中央研究院）： https://gis.sinica.edu.tw/tileserver/wmts
  - 國土測繪圖資服務雲：無人機影像UAS : https://maps.nlsc.gov.tw/wmtsUAS/
  - 山崩地質資訊平台： https://landslide.geologycloud.tw/jlwmts/jetlink/wmts
---
### 加入Google底圖
1. 加入XYZ圖層
![[Pasted image 20250610171400.png]]
 >1. 在上方工具列打開圖層選項
 >2. 加入圖層->加入XYZ圖層
2. 以Google衛星圖為例
![[Pasted image 20250610171437.png]]
>1. 再彈出頁面中點選新增
>2. 輸入名稱(可自訂)；URL須輸入欲介接的XYZ網址
>3. 確認
3. 加入
![[Pasted image 20250610171509.png]]
>1. 在選單中選取剛剛輸入的名稱
>2. 點選加入即可

- 常用XYZ連結網址
   - Google道路圖：[http://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}](http://mt0.google.com/vt/lyrs=m&hl=en&x=%7bx%7d&y=%7by%7d&z=%7bz%7d)
   - Google地形+道路圖：[http://mt0.google.com/vt/lyrs=p&hl=en&x={x}&y={y}&z={z}](http://mt0.google.com/vt/lyrs=p&hl=en&x=%7bx%7d&y=%7by%7d&z=%7bz%7d)
   - Google道路（白色道路：[http://mt0.google.com/vt/lyrs=r&hl=en&x={x}&y={y}&z={z}](http://mt0.google.com/vt/lyrs=r&hl=en&x=%7bx%7d&y=%7by%7d&z=%7bz%7d)
   - Google衛星（無道路圖：[http://mt0.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}](http://mt0.google.com/vt/lyrs=s&hl=en&x=%7bx%7d&y=%7by%7d&z=%7bz%7d)
   - Google地形：[http://mt0.google.com/vt/lyrs=t&hl=en&x={x}&y={y}&z={z}](http://mt0.google.com/vt/lyrs=t&hl=en&x=%7bx%7d&y=%7by%7d&z=%7bz%7d)
   - Google衛星+道路圖：[http://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}](http://mt0.google.com/vt/lyrs=y&hl=en&x=%7bx%7d&y=%7by%7d&z=%7bz%7d)
---
# QGIS常用功能
## 圖層作業
### 新增圖層群組
1. 新增圖層群組
![[Pasted image 20250611110918.jpg]]
>1. 選取需要變成群組的圖層
>2. 點選新增

![[Pasted image 20250611112133.png]]
>幫群組命名(記得要打開全部的圖層才能全顯示喔!)

### 新建圖層
🧑‍🏫建議新建檔案形式為gpkg
1. 新建Geo package圖層
![[Pasted image 20250611172052.png]]
>1. 在工具列打開圖層
>2. 新增圖層
>3. 點選新建Geo package圖層
2. 建立檔案
![[Pasted image 20250611172401.png]]
>1. 點選資料庫
>2. 確認儲存位置及名稱
>3. 存檔
3. 選擇圖層類型
![[Pasted image 20250611172521.png]]
>1. 打開幾何類型選單
>2. 選擇所需類別(以曲線集為例)
4. 選擇CRS
![[Pasted image 20250611172834.png]]
>1. 選擇3826(TWD97)
>2. 點擊OK

完成建立圖層!

---







## 圖層設定
### 圖層樣式-線型
1. 打開屬性頁面
![[Pasted image 20250611155136.png]]
>1. 選擇要設定的圖層按右鍵
>2. 點選屬性，會彈出視窗

2. 符號學設定
![[Pasted image 20250611155513.png]]
>1. 在視窗右側選擇符號學
>2. 選擇單一符號
3. 單一符號設定
![[Pasted image 20250611160735.png]]
>- 可選擇線的色彩
>- 透明度
>- 寬度
>- 線的形式...等

💡設定完記得按ok

---
### 圖層樣式-圖塊
1. 打開屬性頁面
![[Pasted image 20250611162327.png]]
>1. 選擇要設定的圖層按右鍵
>2. 點選屬性，會彈出視窗
2. 符號學設定
![[Pasted image 20250611155513.png]]
>1. 在視窗右側選擇符號學
>2. 選擇單一符號
3. 單一符號設定
![[Pasted image 20250611162410.png]]
>- 可選填充色彩
>- 透明度
>- 形式...等

💡設定完記得按ok

---
### 圖層樣式-點
1. 打開屬性頁面
![[Pasted image 20250611163029.png]]
>1. 選擇要設定的圖層按右鍵
>2. 點選屬性，會彈出視窗
2. 符號學設定
![[Pasted image 20250611155513.png]]
>1. 在視窗右側選擇符號學
>2. 選擇單一符號
3. 單一符號設定
![[Pasted image 20250611163231.png]]
>- 可選填充色彩
>- 透明度
>- 形式...等

💡設定完記得按ok

---
### 圖層樣式-文字
1. 打開屬性頁面
![[Pasted image 20250611163029.png]]
>1. 選擇要設定的圖層按右鍵
>2. 點選屬性，會彈出視窗
2. 標記設計設定
![[Pasted image 20250611164512.png]]
>1. 在視窗右側選擇符號學
>2. 選擇單一符號
3. 選擇顯示值
![[Pasted image 20250611164557.png]]
>選擇text
4. 文字設定
![[Pasted image 20250611164637.png]]
>- 字型
>- 大小
>- 透明度
>- 色彩...等

💡設定完記得按ok 

----

## 匯出圖層
### 常用檔案形式說明
|檔案格式|可編輯|可儲存屬性|可儲存樣式|可編輯|可儲存屬性|可儲存樣式|適用情境|
|---|---|---|---|---|---|---|---|
|**GPKG**|✅|✅|QGIS樣式|✅|✅|✅|多圖層整合、專案封裝|
|**Shapefile**|✅|✅|❌|✅|✅|❌|傳統格式、與政府交換常用|
|**GeoJSON**|有限|✅|❌|有限|✅|❌ |API互通、網頁展示|
|**KML**|❌|有限|Google樣式|❌| 有限|有限|匯出至 Google Earth|
|**Spatialite**|✅|✅|❌|✅ 是|✅|❌ |空間資料庫、小型分析應用|
|**CSV（含XY）**|❌|✅|❌|❌ 否|✅|❌|表格匯入、XY 點位建立空間資料|

---
### 匯出圖層為DXF
![[Pasted image 20250611114524.png]]
>1. 選擇欲匯出的圖層案右鍵
>2. 選擇導出
>3. 點擊要素另存為...

![[Pasted image 20250611114738.png]]
>選擇格式為DXF

![[Pasted image 20250611115028.png]]
>1. 輸入檔案名稱並確認儲存位置
>2. 選擇CRS 3826
>>一般台灣本島使用圖面都是以TWD97座標為主
>3. 確認是否要保留圖層數據及範圍，若要匯出全範圍勿勾選範圍選項
>4. 確認(若不需加入目前專案地圖請取消勾選OK旁的選項)
---
### 匯出圖層為GPKG

![[Pasted image 20250611114524.png]]
>1. 選擇欲匯出的圖層案右鍵
>2. 選擇導出
>3. 點擊要素另存為...

![[Pasted image 20250611131039.png]]
>選擇格式為Geo package

![[Pasted image 20250611131137.png]]
>1. 輸入檔案名稱並確認儲存位置
>2. 選擇CRS 
>>- 一般台灣本島使用圖面都是以TWD97座標為主
>>- 若想要把原為TWD97座標的檔案轉成WGS84可以選擇CRS4326(國際座標系統)，資料點將會由原坐標參考系統轉換至新的坐標系統，這是一種可以將TWD97<->WGS84的方式!
>3. 確認是否要保留圖層數據及範圍，若要匯出全範圍勿勾選範圍選項
>4. 確認(若不需加入目前專案地圖請取消勾選OK旁的選項)
---
### 匯出圖層Shapefile
- Shapefile匯出後通常會是以資料夾形式呈現，資料夾內通常會有shp、shx、dbf...等檔案。
![[Pasted image 20250611114524.png]]
>1. 選擇欲匯出的圖層案右鍵
>2. 選擇導出
>3. 點擊要素另存為...

![[Pasted image 20250611131727.png]]
>選擇格式為ESRI Shape

![[Pasted image 20250611134200.png]]
>1. 輸入檔案名稱並確認儲存位置
>2. 選擇CRS 3826
>>- 一般台灣本島使用圖面都是以TWD97座標為主
>>- 通常這種格式都是提供給業主(政府)使用所以用TWD97座標即可
>3. 確認是否要保留圖層數據及範圍，若要匯出全範圍勿勾選範圍選項
>4. 確認(若不需加入目前專案地圖請取消勾選OK旁的選項)
---
### 匯出圖層JSON
- 匯出檔案會較大，製作大地圖建議不要用
![[Pasted image 20250611114524.png]]
>1. 選擇欲匯出的圖層案右鍵
>2. 選擇導出
>3. 點擊要素另存為...

![[Pasted image 20250611134328.png]]
>選擇格式為GEO JSON

![[Pasted image 20250611140924.png]]
>1. 輸入檔案名稱並確認儲存位置
>2. 選擇CRS 3826
>>- 一般台灣本島使用圖面都是以TWD97座標為主
>3. 確認是否要保留圖層數據及範圍，若要匯出全範圍勿勾選範圍選項
>4. 確認(若不需加入目前專案地圖請取消勾選OK旁的選項)
---
### 匯出圖層KML
- KML是匯出至 Google Earth所使用的檔案
1. 開啟外掛程式管理
 ![[Pasted image 20250611143836.png]]
 >1. 在工具列中點選外掛程式
 >2. 點選管理並安裝
 2. 下載MMQGIS
 ![[Pasted image 20250611144326.png]]
 >1. 選擇查看全部
 >2. 搜尋MMQGIS
 >3. 選擇MMQGIS
 >4. 安裝插件
 3. 確認是否成功安裝
 ![[Pasted image 20250611145111.png]]
 >安裝完成可在工具列看到MMQGIS的選項!
 4. 勾選想匯出的圖層
 ![[Pasted image 20250611145319.png]]
 >在圖層位置勾選圖層(沒有勾就不能匯出)
 5. 選擇匯出KML
 ![[Pasted image 20250611145954.png]]
 >1. 在工具列打開MMQGIS
 >2. 選擇匯入/匯出
 >3. 點選匯出KML
 6. 匯出KML
 ![[Pasted image 20250611151035.png]]
 >1. 選擇圖層
 >2. 確認存檔位置
 >3. 建立檔案
 >4. 點選apply匯出檔案
 
🎉這就是可以匯入 Google Earth的檔案了!!!!!!!!!!!!🥳

--- 
## 如何編輯GML檔
### GML簡介
1. 定義與背景
- GML（Geography Markup Language，地理標記語言）是一種以 XML 為基礎的國際標準格式，用以描述與交換地理空間資料。該標準由 OGC（Open Geospatial Consortium，開放地理空間聯盟）制定，亦被納入 ISO 19136 標準之中，廣泛應用於政府開放資料、空間資訊系統（GIS）與網路地理服務（如 WFS）。
2. 特性
- **結構化與語義明確**：以 XML 標記描述地物（Feature）、屬性（Attribute）與幾何（Geometry）等空間資料內容，具高度可讀性與語義透明性。
- **支援多種幾何類型**：內建支援點（Point）、線（LineString）、多邊形（Polygon）與多重幾何集合（MultiGeometry）等基本幾何型態。
- **可擴充性與模組化**：允許依據不同應用情境自訂 Schema（XSD），方便建立領域專屬的資料模型，如都市計畫、土地登記或基礎設施管理。
3. 限制與應用

|功能|狀態|
|---|---|
|✅ 匯入|✅ 支援，直接加入圖層即可|
|✏️ 編輯|❌ 無法直接修改|
|💾 匯出|✅ 可以轉檔為 Shapefile、GeoPackage 等格式|

---

### GML轉GPKG
- GML是不可直接使用QGIS編輯的檔案，必須先轉成GPKG或SPL檔
- 🥇 建議是轉成GPKG，因為SPL是資料夾(單純我不喜歡很多檔案的形式)
1. 開啟匯出視窗
![[Pasted image 20250612105132.png]]
>1. 選擇圖層按右鍵
>2. 選擇導出
>3. 另存
2. 選擇匯出GPKG
![[Pasted image 20250612105810.png]]
>1. 選擇格式
>2. 檔案路徑
>3. 確認存檔名稱
3. 匯出檔案
![[Pasted image 20250612110201.png]]
>1. 下拉選單
>2. 刪除FID欄位
>>**FID** 全名是 **Feature ID（地物識別碼）**，是用來唯一標識圖層中每一個地理物件（feature）的編號。
>>具有唯一性，在一個圖層中，每筆地物（例如每一塊地、每一棟建築）都會有一個唯一的 FID 值
>>如果不刪就會跳出這個視窗
>>![[Pasted image 20250612110437.png]]
>3. 點選OK即可完成

### 編輯(原GML檔)
1. 開啟開啟屬性表格
![[Pasted image 20250612112301.png]]
>1. 選擇圖層按右鍵
>2. 選擇開啟屬性表格
2. 編輯模式
![[Pasted image 20250612112546.png]]
>- 在屬性表格視窗中點選編輯模式
3. 編輯內容
![[Pasted image 20250612112752.png]]
>- 在編輯模式中可編輯所有欄位名稱
>- 刪除物件
>- 複製物件
>- 計算
>- 貼上物件...等



















